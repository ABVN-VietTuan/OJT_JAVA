sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/MessageToast"],(e,t,o)=>{"use strict";return e.extend("frontend.controller.ListEmployee",{onInit(){const e=this.getOwnerComponent().getRouter();e.getRoute("ListEmployee").attachPatternMatched(this._onRouteMatched,this);const t=this.getOwnerComponent().getModel("user");console.log(t);const o=t.getProperty("/isAdmin");console.log("Check is Admin",o)},_onRouteMatched:function(){const e=this.byId("employeeTable");const t=e.getBinding("items");if(t){t.refresh()}},onRowPress:function(e){const t=e.getParameter("listItem");const o=t.getBindingContext("employee");const n=encodeURIComponent(o.getProperty("ID"));const s=this.getOwnerComponent().getRouter();s.navTo("DetailEmployee",{employeeId:n})},onAddEmployee:function(){const e=this.getOwnerComponent().getRouter();e.navTo("CreateEmployee")},onRemoveEmployee:async function(e){const n=e.getSource();const s=n.getParent();const r=s.getBindingContext("employee");if(!r){t.error("Unable to determine the selected employee.");return}const i=await new Promise(e=>{t.confirm("Are you sure you want to delete this employee?",{title:"Confirm Delete",actions:[t.Action.YES,t.Action.NO],onClose:o=>e(o===t.Action.YES)})});if(!i){return}try{await r.delete();o.show("Employee deleted successfully.")}catch(e){console.error("Delete failed:",e);t.error("Failed to delete employee.")}}})});
//# sourceMappingURL=ListEmployee.controller.js.map