sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/MessageToast"],(e,t,o)=>{"use strict";return e.extend("frontend.controller.ListEmployee",{onInit(){let e;const t=this.getOwnerComponent().getRouter();t.getRoute("ListEmployee").attachPatternMatched(this._onRouteMatched,this);const o=this.getOwnerComponent().getModel("user");console.log(o);e=o.getData();console.log("User model data:",e);const n=e?.scopes&&e?.scopes.some(e=>e.includes("Admin"));console.log("Check is Admin",n);this.byId("submitBtn").setVisible(n);this.byId("deleteBtn").setVisible(n)},_onRouteMatched:function(){const e=this.byId("employeeTable");const t=e.getBinding("items");if(t){t.refresh()}},onRowPress:function(e){const t=e.getParameter("listItem");const o=t.getBindingContext("employee");const n=encodeURIComponent(o.getProperty("ID"));console.log("hello",n);const s=this.getOwnerComponent().getRouter();s.navTo("DetailEmployee",{employeeId:n})},onAddEmployee:function(){const e=this.getOwnerComponent().getRouter();e.navTo("CreateEmployee")},onRemoveEmployee:async function(e){const n=e.getSource();const s=n.getParent();const i=s.getBindingContext("employee");if(!i){t.error("Unable to determine the selected employee.");return}const l=await new Promise(e=>{t.confirm("Are you sure you want to delete this employee?",{title:"Confirm Delete",actions:[t.Action.YES,t.Action.NO],onClose:o=>e(o===t.Action.YES)})});if(!l){return}try{await i.delete();o.show("Employee deleted successfully.")}catch(e){console.error("Delete failed:",e);t.error("Failed to delete employee.")}}})});
//# sourceMappingURL=ListEmployee.controller.js.map